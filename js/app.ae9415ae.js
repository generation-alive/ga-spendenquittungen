(function(t){function e(e){for(var a,i,o=e[0],c=e[1],d=e[2],l=0,m=[];l<o.length;l++)i=o[l],r[i]&&m.push(r[i][0]),r[i]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);u&&u(e);while(m.length)m.shift()();return s.push.apply(s,d||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],a=!0,o=1;o<n.length;o++){var c=n[o];0!==r[c]&&(a=!1)}a&&(s.splice(e--,1),t=i(i.s=n[0]))}return t}var a={},r={app:0},s=[];function i(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=a,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(n,a,function(e){return t[e]}.bind(null,a));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var d=0;d<o.length;d++)e(o[d]);var u=c;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0299":function(t,e,n){},"0311":function(t,e,n){},"065c":function(t,e,n){t.exports=n.p+"img/add-24px.ca3efbf7.svg"},"078f":function(t,e,n){"use strict";var a=n("4290"),r=n.n(a);r.a},1:function(t,e){},"132e":function(t,e,n){t.exports=n.p+"img/ga-footer.3ed4472c.png"},"1dda":function(t,e,n){t.exports=n.p+"img/DIN_5008_Form_B.2c91a766.svg"},2:function(t,e){},"254c":function(t,e,n){"use strict";var a=n("5ba6"),r=n.n(a);r.a},"26ec":function(t,e,n){"use strict";var a=n("406e"),r=n.n(a);r.a},"38fb":function(t,e,n){"use strict";var a=n("4b65"),r=n.n(a);r.a},3948:function(t,e,n){"use strict";var a=n("57d1"),r=n.n(a);r.a},"3e21":function(t,e,n){"use strict";var a=n("9cab"),r=n.n(a);r.a},"406e":function(t,e,n){},4092:function(t,e,n){},4290:function(t,e,n){},4462:function(t,e,n){"use strict";var a=n("c932"),r=n.n(a);r.a},4678:function(t,e,n){var a={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function r(t){var e=s(t);return n(e)}function s(t){var e=a[t];if(!(e+1)){var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}return e}r.keys=function(){return Object.keys(a)},r.resolve=s,t.exports=r,r.id="4678"},"483b":function(t,e,n){},"4b65":function(t,e,n){},"4dba":function(t,e,n){"use strict";var a=n("e41f"),r=n.n(a);r.a},5347:function(t,e,n){"use strict";var a=n("0311"),r=n.n(a);r.a},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("097d");var a=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app"},[n("router-view")],1)},s=[],i=(n("96cf"),n("1da1")),o=n("d4ec"),c=n("bee2"),d=n("99de"),u=n("7e84"),l=n("262e"),m=n("ade3"),f=n("0937"),p=function(t){function e(){return Object(o["a"])(this,e),Object(d["a"])(this,Object(u["a"])(e).apply(this,arguments))}return Object(l["a"])(e,t),Object(c["a"])(e,null,[{key:"fields",value:function(){return{id:this.increment(),street:this.string(""),houseNr:this.string(""),zip:this.string(""),city:this.string(""),ownerId:this.attr(null),ownerType:this.attr(null),owner:this.morphTo("ownerId","ownerType")}}}]),e}(f["a"]);Object(m["a"])(p,"entity","addresses"),window.Address=p;var h=function(t){function e(){return Object(o["a"])(this,e),Object(d["a"])(this,Object(u["a"])(e).apply(this,arguments))}return Object(l["a"])(e,t),Object(c["a"])(e,null,[{key:"fields",value:function(){return{id:this.increment(),organizationId:this.attr(),desc:this.string("")}}}]),e}(f["a"]);Object(m["a"])(h,"entity","purposes");var v=function(t){function e(){return Object(o["a"])(this,e),Object(d["a"])(this,Object(u["a"])(e).apply(this,arguments))}return Object(l["a"])(e,t),Object(c["a"])(e,null,[{key:"fields",value:function(){return{id:this.increment(),name:this.string(""),address:this.morphOne(p,"ownerId","ownerType"),purpose:this.hasMany(h,"organizationId"),taxName:this.string(""),taxNr:this.string(""),taxDate:this.string(""),taxPeriod:this.string("")}}}]),e}(f["a"]);Object(m["a"])(v,"entity","organizations"),window.Organization=v;var b=function(t){function e(){return Object(o["a"])(this,e),Object(d["a"])(this,Object(u["a"])(e).apply(this,arguments))}return Object(l["a"])(e,t),Object(c["a"])(e,null,[{key:"fields",value:function(){return{id:this.increment(),period:this.string("")}}}]),e}(f["a"]);Object(m["a"])(b,"entity","generalSettings");var g={data:function(){return{}},beforeCreate:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:v.all().length||v.create({data:{id:1,address:{},purpose:[]}}),b.all().length||b.new();case 2:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},_=g,w=(n("5c0b"),n("2877")),y=Object(w["a"])(_,r,s,!1,null,null,null);y.options.__file="App.vue";var j=y.exports,k=(n("7f7f"),n("8c4f")),x=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("mdc-layout-app",[n("mdc-top-app-bar",{attrs:{slot:"toolbar",title:"GA Spendenquittungen",event:"toggle-drawer"},slot:"toolbar"},[n("mdc-top-app-bar-action",{attrs:{icon:"help"}})],1),n("mdc-drawer",{attrs:{slot:"drawer","toggle-on":"toggle-drawer",temporary:""},slot:"drawer"},[n("mdc-drawer-list",[n("mdc-drawer-item",{attrs:{"start-icon":"people"},on:{click:function(e){t.$router.push({name:"donatorsOverview"})}}},[t._v("Spender")]),n("mdc-drawer-divider",{staticClass:"divider-spacer"}),n("mdc-drawer-item",{attrs:{"start-icon":"settings"},on:{click:function(e){t.$router.push({name:"settingsOverview"})}}},[t._v("Einstellungen")])],1)],1),n("main",{staticClass:"main"},[n("router-view")],1)],1)},C=[],O={name:"Internal",data:function(){return{to:{name:"settingsOverview"}}},props:{},methods:{}},z=O,D=(n("078f"),Object(w["a"])(z,x,C,!1,null,"550e06e5",null));D.options.__file="index.vue";var S=D.exports,A=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("mdc-layout-grid",[n("mdc-layout-cell",{attrs:{span:"12"}},[n("mdc-display",[t._v("Einstellungen")])],1),n("mdc-layout-cell",{attrs:{desktop:"6",tablet:"6",phone:"12"}},[n("mdc-headline",[t._v("Verein")]),n("settings-overview-card",{attrs:{title:t.organization&&t.organization.name,subtitle:t.organizationAddress,purposes:t.organizationPurposes,infos:t.organizationInfos,routeOnEdit:{name:"settingsOrganization"}}})],1),n("mdc-layout-cell",{attrs:{desktop:"6",tablet:"6",phone:"12"}},[n("mdc-headline",[t._v("Allgemein")]),n("settings-overview-card",{attrs:{infos:t.generalInfos,routeOnEdit:{name:"settingsGeneral"}}}),n("import-card",{staticClass:"import-card"})],1)],1)},N=[],E=(n("7514"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("mdc-card",[t.title||t.subtitle?n("mdc-card-header",{attrs:{title:t.title,subtitle:t.subtitle}}):t._e(),t.purposes&&t.purposes.length?n("mdc-card-text",[n("mdc-list",t._l(t.purposesNotEmpty,function(e,a){return n("mdc-list-item",{key:a},[n("mdc-icon",{attrs:{slot:"start-detail",icon:"flag"},slot:"start-detail"}),t._v("\n        "+t._s(e)+"\n      ")],1)}),1)],1):t._e(),t.infos?n("mdc-card-text",[n("mdc-list",{attrs:{"two-line":""}},t._l(t.infos,function(e,a){return n("mdc-list-item",{key:a},[n("span",[t._v(t._s(e))]),n("span",{attrs:{slot:"secondary"},slot:"secondary"},[t._v(t._s(a))])])}),1)],1):t._e(),t.routeOnEdit?n("mdc-card-actions",[n("mdc-card-action-icons",[n("router-link",{staticClass:"router-link-button",attrs:{to:t.routeOnEdit}},[n("mdc-card-action-icon",{attrs:{icon:"edit"}})],1)],1)],1):t._e()],1)}),$=[],I=n("2ef0"),M=n.n(I),P={props:{title:{type:String,default:""},subtitle:{type:String,default:""},purposes:{type:Array,default:function(){return[]}},infos:{type:Object,default:null},routeOnEdit:{type:[Object,String],default:null}},computed:{purposesNotEmpty:function(){return M.a.filter(this.purposes,function(t){return!!t})}}},B=P,Y=(n("4dba"),Object(w["a"])(B,E,$,!1,null,"483e829a",null));Y.options.__file="SettingsOverviewCard.vue";var T=Y.exports,V=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("mdc-card",[n("mdc-card-header",{attrs:{title:"Daten / Importe"}}),n("mdc-card-text",[n("div",{staticClass:"desc"},[t._v("Import von .json oder .csv Dateien")]),n("mdc-button",{staticClass:"button",attrs:{outlined:""},on:{click:function(e){t.$refs.donators.click()}}},[t._v("Spender")]),n("input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"donators",attrs:{type:"file",accept:"application/json"},on:{change:t.onDonatorsUpload}}),n("mdc-button",{staticClass:"button",attrs:{outlined:""},on:{click:function(e){t.$refs.transactions.click()}}},[t._v("Kontoauszüge")]),n("input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"transactions",attrs:{type:"file",accept:".csv"},on:{change:t.onTransactionsUpload}})],1),t.routeOnEdit?n("mdc-card-actions",[n("mdc-card-action-icons",[n("mdc-card-action-icon",{attrs:{icon:"edit"}})],1)],1):t._e(),n("mdc-snackbar",{ref:"snackbar"})],1)},F=[],R=(n("a481"),n("6762"),n("2fdb"),n("ac4d"),n("8a81"),n("ac6a"),n("3835")),G=(n("4917"),n("c1df")),Z=n.n(G),W=function(t){function e(){return Object(o["a"])(this,e),Object(d["a"])(this,Object(u["a"])(e).apply(this,arguments))}return Object(l["a"])(e,t),Object(c["a"])(e,null,[{key:"fields",value:function(){return{id:this.increment(),donatorId:this.attr(null),date:this.string(""),isMemberschipFee:this.boolean(!1),isWaiverOfRefund:this.boolean(!1),sum:this.number(0)}}},{key:"mutators",value:function(){return{date:function(t){return t&&Z()(t,"DD.MM.YYYY").format("DD.MM.YYYY")}}}}]),e}(f["a"]);Object(m["a"])(W,"entity","donations"),window.Donation=W;n("6b54");var U=function(){return"_"+Math.random().toString(36).substr(2,9)},L=function(t){function e(){return Object(o["a"])(this,e),Object(d["a"])(this,Object(u["a"])(e).apply(this,arguments))}return Object(l["a"])(e,t),Object(c["a"])(e,null,[{key:"fields",value:function(){return{id:this.increment(),iban:this.attr(null),date:this.string(""),amount:this.number(0),purpose:this.string(""),category:this.string("")}}},{key:"mutators",value:function(){return{date:function(t){return t&&Z()(t,"DD.MM.YYYY").format("DD.MM.YYYY")}}}}]),e}(f["a"]);Object(m["a"])(L,"entity","transactions"),window.Transaction=L;var K=function(t){function e(){return Object(o["a"])(this,e),Object(d["a"])(this,Object(u["a"])(e).apply(this,arguments))}return Object(l["a"])(e,t),Object(c["a"])(e,null,[{key:"fields",value:function(){return{iban:this.string(U()),blz:this.string(""),name:this.string(""),transactions:this.hasMany(L,"iban"),donatorId:this.attr(null)}}}]),e}(f["a"]);Object(m["a"])(K,"entity","bankAccount"),Object(m["a"])(K,"primaryKey","iban"),window.BankAccount=K;var q=function(t){function e(){return Object(o["a"])(this,e),Object(d["a"])(this,Object(u["a"])(e).apply(this,arguments))}return Object(l["a"])(e,t),Object(c["a"])(e,[{key:"totalSum",get:function(){return M.a.sumBy(this.donations,"sum")}}],[{key:"fields",value:function(){return{id:this.string(null,function(t){return t||U()}),name:this.string(""),address:this.morphOne(p,"ownerId","ownerType"),donations:this.hasMany(W,"donatorId"),bankAccounts:this.hasMany(K,"donatorId"),hasGdpr:this.boolean(!1)}}}]),e}(f["a"]);Object(m["a"])(q,"entity","donators"),window.Donator=q;var H=n("0321"),J=n("f289"),Q=n.n(J),X=Object(H["promisify"])(Q.a),tt=function(t){if(!t)return{street:"",houseNr:""};var e=t.match(/(.*) ([0-9]+[a-zA-Z]*$)/);return e?{street:e[1],houseNr:e[2]}:{street:t,houseNr:""}},et=function(t){var e=M.a.map(t,function(t){if(t.address)var e=tt(t.address.street),n=e.street,a=e.houseNr,r={street:n,houseNr:a,zip:t.address.zip||"",city:t.address.city||""};return{id:t._id,name:t.name||M.a.trim(M.a.join([t.first_name,t.last_name]," ")),address:r,hasGdpr:!!t.dsgvo_policy}});q.insertOrUpdate({data:e})},nt=function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e){var n,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=null,t.next=3,st(e);case 3:if(!t.sent){t.next=7;break}return t.next=6,ot(e);case 6:n=t.sent;case 7:return t.next=9,it(e);case 9:if(!t.sent){t.next=13;break}return t.next=12,ct(e);case 12:n=t.sent;case 13:if(n){t.next=15;break}throw Error("File seems not to contain processable data");case 15:a=M.a.map(n,function(t){return t}),K.insertOrUpdate({data:a});case 17:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),at={windows:["Begünstigter/Absender - Kontonummer","Begünstigter/Absender - Bankleitzahl","Begünstigter/Absender - Name","Betrag","Verwendungszweckzeile 1","Verwendungszweckzeile 2","Buchungstag","Kategorie","Unterkategorie","Splittbuchung - Kategorie","Splittbuchung - Originalbetrag","Splittbuchung - Unterkategorie"],mac:["BLZ/BIC","Kontonummer/IBAN","Empfänger/Absender","VWZ 1","VWZ 2","Betrag","Buchungsdatum","Kategorie","Unterkategorie","Splitbuchung"]},rt=function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e,n,a,r,s,i,o,c,d,u,l,m=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=m.length>0&&void 0!==m[0]?m[0]:"",n=m.length>1&&void 0!==m[1]?m[1]:"",t.next=4,X(e,{delimiter:";",to:1});case 4:a=t.sent,r=Object(R["a"])(a,1),s=r[0],i=!0,o=!1,c=void 0,t.prev=10,d=at[n][Symbol.iterator]();case 12:if(i=(u=d.next()).done){t.next=19;break}if(l=u.value,s.includes(l)){t.next=16;break}return t.abrupt("return",!1);case 16:i=!0,t.next=12;break;case 19:t.next=25;break;case 21:t.prev=21,t.t0=t["catch"](10),o=!0,c=t.t0;case 25:t.prev=25,t.prev=26,i||null==d.return||d.return();case 28:if(t.prev=28,!o){t.next=31;break}throw c;case 31:return t.finish(28);case 32:return t.finish(25);case 33:return t.abrupt("return",!0);case 34:case"end":return t.stop()}},t,this,[[10,21,25,33],[26,,28,32]])}));return function(){return t.apply(this,arguments)}}(),st=function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",rt(e,"windows"));case 1:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),it=function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",rt(e,"mac"));case 1:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),ot=function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e){var n,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,X(e,{delimiter:";",columns:function(t){return M.a.map(t,function(t){return M.a.includes(at.windows,t)?M.a.camelCase(t):null})}});case 2:return n=t.sent,a={},M.a.each(n,function(t){var e=t.begunstigterAbsenderBankleitzahl,n=t.begunstigterAbsenderKontonummer,r=t.begunstigterAbsenderName,s=t.verwendungszweckzeile1,i=t.verwendungszweckzeile2,o=t.betrag,c=t.buchungstag,d=t.kategorie,u=t.unterkategorie,l=t.splittbuchungKategorie,m=t.splittbuchungOriginalbetrag,f=t.splittbuchungUnterkategorie,p=a[n]||{blz:e,iban:n,name:r,transactions:[]};p.transactions.push({amount:M.a.toNumber(M.a.replace(m||o,",",".")),date:c,purpose:"".concat(s,"\n").concat(i),category:"".concat(l||d," →→→ ").concat(f||u)}),a[n]=p}),t.abrupt("return",a);case 6:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),ct=function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e){var n,a,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,X(e,{delimiter:";",columns:function(t){return M.a.map(t,function(t){return M.a.includes(at.mac,t)?M.a.camelCase(t):null})}});case 2:return n=t.sent,a={},r=null,M.a.each(n,function(t){var e=t.blzBic,n=t.kontonummerIban,s=t.empfangerAbsender,i=t.vwz1,o=t.vwz2,c=t.betrag,d=t.buchungsdatum,u=t.kategorie,l=t.unterkategorie,m=t.splitbuchung;m=M.a.toNumber(m),m&&(n=r.kontonummerIban,e=r.blzBic,i=r.vwz1,o=r.vwz2,s=r.empfangerAbsender);var f=a[n]||{blz:e,iban:n,name:s,transactions:[]},p={amount:M.a.toNumber(M.a.replace(c,",",".")),date:Z()(d,"YYYY-MM-DD").format("DD.MM.YYYY"),purpose:"".concat(i,"\n").concat(o),category:"".concat(u," →→→ ").concat(l)};m?f.transactions=f.transactions.filter(function(t){return t!==r.transaction}):r={kontonummerIban:n,blzBic:e,vwz1:i,vwz2:o,empfangerAbsender:s,transaction:p},f.transactions.push(p),a[n]=f}),t.abrupt("return",a);case 7:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),dt={name:"ImportCard",props:{title:{type:String,default:""},subtitle:{type:String,default:""},purposes:{type:Array,default:function(){return[]}},infos:{type:Object,default:null},routeOnEdit:{type:[Object,String],default:null}},computed:{},methods:{processFileEventWith:function(t,e){var n=new FileReader,a=this;n.onload=function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(n){var r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return r=n.target.result,t.prev=1,t.next=4,e(r);case 4:a.$refs.snackbar.show({message:"👌🏻 Daten erfolgreich importiert 👌🏻"}),t.next=11;break;case 7:t.prev=7,t.t0=t["catch"](1),a.$refs.snackbar.show({message:"❌ Etwas ist schiefgelaufen ❌"}),console.error(t.t0);case 11:case"end":return t.stop()}},t,this,[[1,7]])}));return function(e){return t.apply(this,arguments)}}(),n.readAsText(t.target.files[0])},onDonatorsUpload:function(t){this.processFileEventWith(t,function(t){et(JSON.parse(t))})},onTransactionsUpload:function(t){this.processFileEventWith(t,nt)}}},ut=dt,lt=(n("3e21"),Object(w["a"])(ut,V,F,!1,null,"4a23a082",null));lt.options.__file="ImportCard.vue";var mt=lt.exports,ft={name:"SettingsOverview",computed:{organization:function(){return v.query().with("address").with("purpose").find(1)},organizationAddress:function(){var t=this.organization&&this.organization.address;return t?"".concat(t.street," ").concat(t.houseNr,", ").concat(t.zip," ").concat(t.city):""},organizationPurposes:function(){return this.organization&&this.organization.purpose&&this.organization.purpose.map(function(t){return t.desc})},organizationInfos:function(){var t=this.organization;return t&&{Finanzamt:t.taxName,StNr:t.taxNr,"Datum des Freistellungsbescheid":t.taxDate,Veranlagungszeitraum:t.taxPeriod}},generalInfos:function(){var t=b.find(1);return t&&{"Zeitraum der Spendenbescheinigung":t.period}}},components:{SettingsOverviewCard:T,ImportCard:mt}},pt=ft,ht=(n("e7d1"),Object(w["a"])(pt,A,N,!1,null,"3d8e9250",null));ht.options.__file="SettingsOverview.vue";var vt=ht.exports,bt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("mdc-layout-grid",[n("mdc-layout-cell",{attrs:{span:"12"}},[n("mdc-display",[t._v("Bearbeiten: Allgemein")]),n("mdc-button",{attrs:{raised:""},on:{click:function(e){t.$router.push({name:"settingsOverview"})}}},[n("i",{staticClass:"material-icons mdc-button__icon"},[t._v("arrow_back")]),t._v("Zurück")])],1),n("mdc-layout-cell",{attrs:{desktop:"6",tablet:"6",phone:"12"}},[n("div",{staticClass:"icon-row"},[n("mdc-icon",{staticClass:"icon-row__icon",attrs:{icon:"calendar_today"}}),n("div",{staticClass:"icon-row__content"},[n("mdc-textfield",{staticClass:"full",attrs:{label:"Zeitraum der Spendenbescheinigung",outline:""},model:{value:t.period,callback:function(e){t.period=e},expression:"period"}})],1)],1)]),n("mdc-layout-cell",{attrs:{span:"12"}},[n("mdc-button",{attrs:{raised:""},on:{click:function(e){t.$router.push({name:"settingsOverview"})}}},[n("i",{staticClass:"material-icons mdc-button__icon"},[t._v("arrow_back")]),t._v("Zurück")])],1)],1)},gt=[],_t=n("be94"),wt=n("2909"),yt=function(t,e,n,a){var r=a.withModels,s=a.method;r=r||[],s=s||"update";var i=function(){var n=t.query(),a=!0,s=!1,i=void 0;try{for(var o,c=r[Symbol.iterator]();!(a=(o=c.next()).done);a=!0){var d=o.value;n=n.with(d)}}catch(u){s=!0,i=u}finally{try{a||null==c.return||c.return()}finally{if(s)throw i}}return n.find(e)},o=function(){var t=i();return n?M.a.property(n)(t):t};return{get:o,set:function(a){if(n){var r={id:e},o=i(),c=M.a.toPath(n),d=o;for(var u in c){var l=c[u];if(d=d[l],d&&d.id){var m=[].concat(Object(wt["a"])(M.a.slice(c,0,u+1)),["id"]);M.a.set(r,m,d.id)}}M.a.set(r,n,a),t[s]({data:r})}else t[s]({data:Object(_t["a"])({id:e},a)})}}},jt=function(t,e,n,a){var r={},s=!0,i=!1,o=void 0;try{for(var c,d=n[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){var u=c.value,l=M.a.last(M.a.toPath(u));r[l]=yt(t,e,u,a||{})}}catch(m){i=!0,o=m}finally{try{s||null==d.return||d.return()}finally{if(i)throw o}}return r},kt={name:"SettingsEditGeneral",computed:Object(_t["a"])({},jt(b,1,["period"]))},xt=kt,Ct=(n("254c"),Object(w["a"])(xt,bt,gt,!1,null,"0dd66da4",null));Ct.options.__file="SettingsEditGeneral.vue";var Ot=Ct.exports,zt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("mdc-layout-grid",[n("mdc-layout-cell",{attrs:{span:"12"}},[n("mdc-display",[t._v("Bearbeiten: Verein")]),n("mdc-button",{attrs:{raised:""},on:{click:function(e){t.$router.push({name:"settingsOverview"})}}},[n("i",{staticClass:"material-icons mdc-button__icon"},[t._v("arrow_back")]),t._v("Zurück")])],1),n("mdc-layout-cell",{attrs:{desktop:"6",tablet:"6",phone:"12"}},[n("mdc-subheading",[t._v("Verein")]),n("div",{staticClass:"icon-row"},[n("mdc-icon",{staticClass:"icon-row__icon",attrs:{icon:"person"}}),n("div",{staticClass:"icon-row__content"},[n("mdc-textfield",{staticClass:"full",attrs:{label:"Name",outline:""},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1)],1),n("div",{staticClass:"icon-row"},[n("mdc-icon",{staticClass:"icon-row__icon",attrs:{icon:"person_pin_circle"}}),n("div",{staticClass:"icon-row__content"},[n("mdc-textfield",{staticClass:"two-third",attrs:{label:"Straße",outline:""},model:{value:t.street,callback:function(e){t.street=e},expression:"street"}}),n("mdc-textfield",{staticClass:"one-third",attrs:{label:"Nummer",outline:""},model:{value:t.houseNr,callback:function(e){t.houseNr=e},expression:"houseNr"}})],1)],1),n("div",{staticClass:"icon-row"},[n("mdc-icon",{staticClass:"icon-row__icon"}),n("div",{staticClass:"icon-row__content"},[n("mdc-textfield",{staticClass:"one-third",attrs:{label:"PLZ",outline:""},model:{value:t.zip,callback:function(e){t.zip=e},expression:"zip"}}),n("mdc-textfield",{staticClass:"two-third",attrs:{label:"Ort",outline:""},model:{value:t.city,callback:function(e){t.city=e},expression:"city"}})],1)],1),n("mdc-subheading",[t._v("Vereinszweck")]),t._l(t.purpose,function(e,a){return n("div",{key:e.$id,staticClass:"icon-row"},[n("mdc-icon",0===a?{staticClass:"icon-row__icon",attrs:{icon:"flag"}}:{staticClass:"icon-row__icon"}),n("div",{staticClass:"icon-row__content"},[n("mdc-textfield",{staticClass:"full",attrs:{label:"Zweck "+(a+1),outline:""},model:{value:e.desc,callback:function(n){t.$set(e,"desc",n)},expression:"purpose.desc"}})],1)],1)}),n("mdc-subheading",[t._v("Freistellungsbescheid")]),n("div",{staticClass:"icon-row"},[n("mdc-icon",{staticClass:"icon-row__icon",attrs:{icon:"assignment_turned_in"}}),n("div",{staticClass:"icon-row__content"},[n("mdc-textfield",{staticClass:"half",attrs:{label:"Name des Finanzamtes",outline:""},model:{value:t.taxName,callback:function(e){t.taxName=e},expression:"taxName"}}),n("mdc-textfield",{staticClass:"half",attrs:{label:"Steuernummer",outline:""},model:{value:t.taxNr,callback:function(e){t.taxNr=e},expression:"taxNr"}})],1)],1),n("div",{staticClass:"icon-row"},[n("mdc-icon",{staticClass:"icon-row__icon"}),n("div",{staticClass:"icon-row__content"},[n("mdc-textfield",{staticClass:"half",attrs:{label:"Datum des Bescheids",outline:""},model:{value:t.taxDate,callback:function(e){t.taxDate=e},expression:"taxDate"}}),n("mdc-textfield",{staticClass:"half",attrs:{label:"Veranlagungszeitraum",outline:""},model:{value:t.taxPeriod,callback:function(e){t.taxPeriod=e},expression:"taxPeriod"}})],1)],1)],2),n("mdc-layout-cell",{attrs:{span:"12"}},[n("mdc-button",{attrs:{raised:""},on:{click:function(e){t.$router.push({name:"settingsOverview"})}}},[n("i",{staticClass:"material-icons mdc-button__icon"},[t._v("arrow_back")]),t._v("Zurück")])],1)],1)},Dt=[],St={name:"SettingsEditOrganization",data:function(){return{}},computed:Object(_t["a"])({},jt(v,1,["purpose"],{withModels:["purpose"],method:"insertOrUpdate"}),jt(v,1,["name","address.street","address.houseNr","address.zip","address.city","taxName","taxNr","taxDate","taxPeriod"],{withModels:["address"],method:"insertOrUpdate"})),methods:{addEmptyPurposeAsLast:function(t){var e=t&&0===t.length,n=!!(t&&t.length&&t[t.length-1]&&t[t.length-1].desc);(e||n)&&(this.purpose=[].concat(Object(wt["a"])(this.purpose),[{desc:""}]))},removeEmptyPurposeNotLast:function(t){if(t){var e,n=!0,a=!1,r=void 0;try{for(var s,i=t[Symbol.iterator]();!(n=(s=i.next()).done);n=!0){var o=s.value;if(""===o.desc){e=o.id;break}}}catch(u){a=!0,r=u}finally{try{n||null==i.return||i.return()}finally{if(a)throw r}}var c=!!e,d=e===(M.a.last(t)&&M.a.last(t).id);c&&!d&&h.delete(e)}}},watch:{purpose:{handler:function(t,e){this.addEmptyPurposeAsLast(t),this.removeEmptyPurposeNotLast(t),M.a.isEqual(t,e)||(this.purpose=Object(wt["a"])(this.purpose))},deep:!0,immediate:!0}}},At=St,Nt=(n("7723"),Object(w["a"])(At,zt,Dt,!1,null,"09a3b52a",null));Nt.options.__file="SettingsEditOrganization.vue";var Et=Nt.exports,$t=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("mdc-layout-grid",[n("mdc-layout-cell",{attrs:{span:"12"}},[n("mdc-display",[t._v("Spender")])],1),n("mdc-layout-cell",{attrs:{desktop:"6",tablet:"6",phone:"12"}},[n("div",{staticClass:"tools"},[n("mdc-textfield",{staticClass:"search",attrs:{label:"Spender suchen",outline:"","trailing-icon":"search"},model:{value:t.donatorSearch,callback:function(e){t.donatorSearch=e},expression:"donatorSearch"}}),n("mdc-icon-toggle",{attrs:{"toggle-on":"attach_money","toggle-off":"money_off"},model:{value:t.donatorsWithSum,callback:function(e){t.donatorsWithSum=e},expression:"donatorsWithSum"}})],1),n("mdc-list",{attrs:{"two-line":""}},[t._l(t.pagedDonators,function(e){return n("mdc-list-item",{key:e.id,staticClass:"list-item"},[n("mdc-icon",{attrs:{slot:"start-detail",icon:"account_circle"},slot:"start-detail"}),n("span",[t._v(t._s(e.name))]),n("span",{attrs:{slot:"secondary"},slot:"secondary"},[t._v("Summe: "+t._s(t._f("currency")(e.totalSum)))]),n("template",{slot:"end-detail"},[e.hasGdpr?n("mdc-button",{on:{click:function(n){t.$router.push({name:"donatorsPrint",params:{id:e.id}})}}},[n("mdc-icon",{staticClass:"mdc-button__icon",staticStyle:{"font-size":"20px","margin-right":"5px"},attrs:{icon:"print"}})],1):n("mdc-button",{on:{click:function(n){t.$router.push({name:"donatorsPrintNoGdpr",params:{id:e.id}})}}},[n("mdc-icon",{staticClass:"mdc-button__icon",staticStyle:{"font-size":"20px","margin-right":"5px"},attrs:{icon:"print_disabled"}})],1),n("mdc-button",{on:{click:function(n){t.$router.push({name:"donatorsEdit",params:{id:e.id}})}}},[n("mdc-icon",{staticClass:"mdc-button__icon",staticStyle:{"font-size":"20px","margin-right":"5px"},attrs:{icon:"create"}})],1),n("mdc-button",{on:{click:function(t){e.$delete()}}},[n("mdc-icon",{staticClass:"mdc-button__icon",staticStyle:{"font-size":"20px","margin-right":"5px"},attrs:{icon:"delete"}})],1)],1)],2)}),n("infinite-loading",{attrs:{identifier:t.infiniteId},on:{infinite:t.infiniteHandler}})],2)],1),n("mdc-fab",{staticClass:"fab",attrs:{icon:"add"},on:{click:function(e){t.$router.push({name:"donatorsCreate"})}}})],1)},It=[],Mt=n("e166"),Pt=n.n(Mt),Bt=function(t){var e={};return M.a.forEach(t,function(t){var n=t.name,a=t.namespace,r=t.emitChanges,s=M.a.join([a,n],"/"),i=M.a.join([a,M.a.upperFirst(n)],"/update");e[n]={get:function(){return this.$store.getters[s]},set:function(t){var e=r||!1;e&&this.$emit(e,{val:t}),this.$store.commit(i,t)}}}),e},Yt=Bt,Tt={name:"DonatorsOverview",data:function(){return{donatorsWithSum:!1,showItems:0,infiniteId:+new Date}},computed:Object(_t["a"])({},Yt([{name:"donatorSearch",namespace:"entities/donators"}]),{donators:function(){return M.a.sortBy(q.query().with("donations").all(),["name"])},searchedDonators:function(){if(this.donatorSearch){var t=this;return M.a.filter(this.donators,function(e){return M.a.includes(M.a.toUpper(e.name),M.a.toUpper(t.donatorSearch))})}return this.donators},filteredDonators:function(){return this.donatorsWithSum?M.a.filter(this.searchedDonators,function(t){return!!t.totalSum}):this.searchedDonators},pagedDonators:function(){var t=M.a.min([this.showItems,this.filteredDonators.length]);return M.a.slice(this.filteredDonators,0,t)}}),methods:{infiniteHandler:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.showItems+=10,t.next=3,this.$nextTick();case 3:this.showItems<this.filteredDonators.length?e.loaded():e.complete();case 4:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),resetPaging:function(){this.showItems=0,this.infiniteId+=1}},watch:{donatorsWithSum:"resetPaging",donatorSearch:"resetPaging"},components:{InfiniteLoading:Pt.a}},Vt=Tt,Ft=(n("26ec"),Object(w["a"])(Vt,$t,It,!1,null,"df1d2170",null));Ft.options.__file="DonatorsOverview.vue";var Rt=Ft.exports,Gt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("mdc-layout-grid",[n("mdc-layout-cell",{attrs:{span:"12"}},[n("mdc-display",[t._v("Spender "+t._s(t.verb)+t._s(t.donator.name?": ":"")+t._s(t.donator.name))]),n("mdc-button",{staticClass:"button",on:{click:function(e){t.$router.push({name:"donatorsOverview"})}}},[n("i",{staticClass:"material-icons mdc-button__icon"},[t._v("arrow_back")]),t._v("Zurück\n    ")]),n("mdc-button",{staticClass:"button",attrs:{raised:""},on:{click:t.onSave}},[n("i",{staticClass:"material-icons mdc-button__icon"},[t._v("save")]),t._v("Speichern\n    ")])],1),n("mdc-layout-cell",{attrs:{desktop:"8",tablet:"10",phone:"12"}},[n("mdc-subheading",[t._v("Spender")]),n("div",{staticClass:"icon-row"},[n("mdc-icon",{staticClass:"icon-row__icon",attrs:{icon:"person"}}),n("div",{staticClass:"icon-row__content"},[n("mdc-textfield",{staticClass:"full",attrs:{label:"Name",outline:""},model:{value:t.donator.name,callback:function(e){t.$set(t.donator,"name",e)},expression:"donator.name"}})],1)],1),n("div",{staticClass:"icon-row"},[n("mdc-icon",{staticClass:"icon-row__icon",attrs:{icon:"person_pin_circle"}}),n("div",{staticClass:"icon-row__content"},[n("mdc-textfield",{staticClass:"two-third",attrs:{label:"Straße",outline:""},model:{value:t.donator.address.street,callback:function(e){t.$set(t.donator.address,"street",e)},expression:"donator.address.street"}}),n("mdc-textfield",{staticClass:"one-third",attrs:{label:"Nummer",outline:""},model:{value:t.donator.address.houseNr,callback:function(e){t.$set(t.donator.address,"houseNr",e)},expression:"donator.address.houseNr"}})],1)],1),n("div",{staticClass:"icon-row"},[n("mdc-icon",{staticClass:"icon-row__icon"}),n("div",{staticClass:"icon-row__content"},[n("mdc-textfield",{staticClass:"one-third",attrs:{label:"PLZ",outline:""},model:{value:t.donator.address.zip,callback:function(e){t.$set(t.donator.address,"zip",e)},expression:"donator.address.zip"}}),n("mdc-textfield",{staticClass:"two-third",attrs:{label:"Ort",outline:""},model:{value:t.donator.address.city,callback:function(e){t.$set(t.donator.address,"city",e)},expression:"donator.address.city"}})],1)],1),n("div",{staticClass:"icon-row"},[n("mdc-icon",{staticClass:"icon-row__icon"}),n("div",{staticClass:"icon-row__content"},[n("mdc-checkbox",{attrs:{label:"Hat DSGVO unterzeichnet"},model:{value:t.donator.hasGdpr,callback:function(e){t.$set(t.donator,"hasGdpr",e)},expression:"donator.hasGdpr"}})],1)],1),n("mdc-subheading",[t._v("Bank Konten")]),n("div",{staticClass:"icon-row"},[n("mdc-icon",{staticClass:"icon-row__icon"}),n("div",{staticClass:"icon-row__content"},[n("mdc-grid-list",{attrs:{"with-support-text":"",interactive:"",ratio:"1x1"}},[t._l(t.bankAccounts,function(e){return n("mdc-grid-tile",{key:e.iban,attrs:{src:t.icons.account,title:t.newTransactionsLabel(e)+e.name,"support-text":e.iban},on:{click:function(n){t.onAddTransactions(e)}}})}),t.id?n("mdc-grid-tile",{attrs:{src:t.icons.add,title:"Bankkonto hinzufügen","support-text":""},on:{click:t.onAddBankAccount}}):t._e()],2)],1)],1),n("mdc-subheading",[t._v("Spenden")]),n("div",{staticClass:"flex"},[n("mdc-button",{staticClass:"button",attrs:{outlined:""},on:{click:t.deleteAllDonations}},[n("i",{staticClass:"material-icons mdc-button__icon"},[t._v("delete_sweep")]),t._v("Spenden löschen\n      ")])],1),t._l(t.donator.donations,function(e,a){return n("div",{key:e.id,staticClass:"icon-row"},[n("span",{staticClass:"icon-row__icon icon-row__icon--text"},[t._v(t._s(a+1))]),n("div",{staticClass:"icon-row__content"},[n("mdc-textfield",{staticClass:"one-third",attrs:{valid:a===t.donator.donations.length-1||t.isValidDate(e.date),label:"Datum",outline:""},on:{change:function(n){t.resortDonations(e)}},model:{value:e.date,callback:function(n){t.$set(e,"date",n)},expression:"donation.date"}}),n("mdc-textfield",{ref:"sum-"+e.id,refInFor:!0,staticClass:"one-third",attrs:{valid:a===t.donator.donations.length-1||t.isValidSum(e.sum),label:"Betrag",outline:""},model:{value:e.sum,callback:function(n){t.$set(e,"sum",n)},expression:"donation.sum"}}),n("div",{staticClass:"toggle-container one-third"},[n("mdc-icon-toggle",{staticClass:"toggle",attrs:{"toggle-on":{icon:"person",label:"Mitgliedsbeitrag"},"toggle-off":{icon:"money",label:"Spende"}},model:{value:e.isMemberschipFee,callback:function(n){t.$set(e,"isMemberschipFee",n)},expression:"donation.isMemberschipFee"}}),e.isMemberschipFee?n("span",[t._v("Mitgliedsbeitrag")]):n("span",[t._v("Spende")]),n("mdc-button",{staticStyle:{"margin-left":"5px"},on:{click:function(n){t.deleteDonation(e)}}},[n("mdc-icon",{staticClass:"mdc-button__icon",staticStyle:{"font-size":"20px","margin-right":"5px"},attrs:{icon:"delete"}})],1)],1)],1)])})],2),n("mdc-layout-cell",{attrs:{span:"12"}},[n("mdc-button",{staticClass:"button",on:{click:function(e){t.$router.push({name:"donatorsOverview"})}}},[n("i",{staticClass:"material-icons mdc-button__icon"},[t._v("arrow_back")]),t._v("Zurück\n    ")]),n("mdc-button",{staticClass:"button",attrs:{raised:""},on:{click:t.onSave}},[n("i",{staticClass:"material-icons mdc-button__icon"},[t._v("save")]),t._v("Speichern\n    ")])],1),n("mdc-snackbar",{ref:"snackbar"})],1)},Zt=[],Wt=(n("f559"),n("c5f6"),n("20d6"),n("fa0c")),Ut=n.n(Wt),Lt=n("065c"),Kt=n.n(Lt),qt={name:"DonatorsEdit",data:function(){return{icons:{account:Ut.a,add:Kt.a},donator:new q}},computed:{verb:function(){return this.id?"bearbeiten":"erstellen"},isAllDonationsValid:function(){var t=this,e=M.a.findIndex(this.donator.donations,function(e){var n=e.date,a=e.sum;return!t.isValidSum(a)||!t.isValidDate(n)}),n=e===this.donator.donations.length-1||-1===e;return n},isAllDonationsDateValid:function(){var t=this,e=this.donator.donations;return e=M.a.slice(e,0,e.length-1),!M.a.some(e,function(e){return!t.isValidDonationDate(e)})},bankAccounts:function(){return this.donator&&this.donator.bankAccounts}},props:{id:{type:[Number,String],default:null}},methods:{deleteDonation:function(t){t&&t.$delete&&t.$delete(),t.date="",t.sum="",this.removeEmptyDonations()},newTransactionsLabel:function(t){return t&&t.transactions&&t.transactions.length&&"(".concat(t.transactions.length,") ")||""},resortDonations:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e){var n,a,r,s,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(n=this,a=this.isDonationWithContent(M.a.last(this.donator.donations)),a&&this.donator.donations.push({id:M.a.uniqueId("new_"),date:"",sum:"",isMemberschipFee:!1}),this.removeEmptyDonations(),this.isAllDonationsDateValid&&(r=M.a.filter(this.donator.donations,this.isValidDonationDate),s=M.a.filter(this.donator.donations,function(t){return!n.isValidDonationDate(t)}),i=[].concat(Object(wt["a"])(M.a.sortBy(r,[this.unixTimeOfDonation])),Object(wt["a"])(s)),M.a.isEqual(i,this.donator.donations)||(this.donator.donations=i)),e&&e.id){t.next=7;break}return t.abrupt("return");case 7:return t.next=9,this.$nextTick();case 9:M.a.first(this.$refs["sum-".concat(e.id)]).focus();case 10:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),removeEmptyDonations:function(){for(var t in this.donator.donations)M.a.toNumber(t)===M.a.toNumber(this.donator.donations.length-1)||this.isDonationWithContent(this.donator.donations[t])||(M.a.pullAt(this.donator.donations,[t]),this.donator.donations=M.a.clone(this.donator.donations))},unixTimeOfDonation:function(t){return Z()(t.date,"DD.MM.YYYY").unix()},isDonationWithContent:function(t){return t&&(t.date||t.sum)},idWatcher:function(t){this.donator=t?M.a.cloneDeep(q.query().with("donations").with("address").with("bankAccounts.transactions").find(t)):new q,this.donator.address=this.donator.address||new p,this.donator.donations=this.donator.donations&&this.donator.donations.length?this.donator.donations:[new W];var e=!0,n=!1,a=void 0;try{for(var r,s=this.donator.donations[Symbol.iterator]();!(e=(r=s.next()).done);e=!0){var i=r.value;M.a.isNumber(i.sum)&&(i.sum=i.sum?M.a.replace(i.sum.toString(),".",","):"")}}catch(o){n=!0,a=o}finally{try{e||null==s.return||s.return()}finally{if(n)throw a}}},isValidDate:function(t){return/^[0-3]?\d\.[0-1]?\d\.\d{4}$/.test(t)&&Z()(t,"DD.MM.YYYY").isValid()},isValidSum:function(t){return!(!t||!/^\d*(,\d\d?)?$/.test(t))},isValidDonationDate:function(t){return this.isValidDate(t.date)},saveDonator:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(e=this.isAllDonationsValid,e){t.next=4;break}return this.$refs.snackbar.show({message:"😱 Einige Daten sind ungültig 😱"}),t.abrupt("return");case 4:return n=M.a.cloneDeep(this.donator),n.donations=M.a.filter(n.donations,this.isDonationWithContent),n.donations=M.a.map(n.donations,function(t){var e=M.a.startsWith(t.id,"new_")?void 0:t.id;return{id:e,date:t.date,isMemberschipFee:t.isMemberschipFee,isWaiverOfRefund:t.isWaiverOfRefund,sum:M.a.toNumber(M.a.replace(t.sum,",","."))}}),this.id||(n.id=U()),t.next=10,q.insert({data:n});case 10:return t.abrupt("return",!0);case 11:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),onSave:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.saveDonator();case 2:if(t.sent){t.next=4;break}return t.abrupt("return");case 4:this.$router.push({name:"donatorsOverview"});case 5:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),onAddBankAccount:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.saveDonator();case 2:if(t.sent){t.next=4;break}return t.abrupt("return");case 4:this.$router.push({name:"donatorsBankAccount",params:{id:this.id},query:{name:this.donator.name}});case 5:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),onAddTransactions:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.saveDonator();case 2:if(t.sent){t.next=4;break}return t.abrupt("return");case 4:this.$router.push({name:"donatorsTransactions",params:{id:this.id,iban:e.iban}});case 5:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),deleteAllDonations:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e,n,a,r,s,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:for(e=!0,n=!1,a=void 0,t.prev=3,r=this.donator.donations[Symbol.iterator]();!(e=(s=r.next()).done);e=!0)i=s.value,i.$delete&&i.$delete();t.next=11;break;case 7:t.prev=7,t.t0=t["catch"](3),n=!0,a=t.t0;case 11:t.prev=11,t.prev=12,e||null==r.return||r.return();case 14:if(t.prev=14,!n){t.next=17;break}throw a;case 17:return t.finish(14);case 18:return t.finish(11);case 19:this.donator.donations=[{id:M.a.uniqueId("new_"),date:"",sum:"",isMemberschipFee:!1}];case 20:case"end":return t.stop()}},t,this,[[3,7,11,19],[12,,14,18]])}));function e(){return t.apply(this,arguments)}return e}()},watch:{id:{handler:"idWatcher",immediate:!0}},created:function(){this.resortDonations()}},Ht=qt,Jt=(n("768a"),Object(w["a"])(Ht,Gt,Zt,!1,null,"301f40d1",null));Jt.options.__file="DonatorsEdit.vue";var Qt=Jt.exports,Xt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"donators-print"},[n("div",{staticClass:"page"},[n("div",{staticClass:"header"},[n("print-logo"),n("div",{staticClass:"header-window"},[n("div",{staticClass:"header-window__wrapper"},[n("div",{staticClass:"from"},[n("span",{staticClass:"from__name"},[t._v(t._s(t.name))]),n("span",[t._v(" | ")]),n("span",{staticClass:"from__street"},[t._v(t._s(t.street)+" "+t._s(t.houseNr))]),n("span",[t._v(" | ")]),n("span",{staticClass:"from__city"},[t._v(t._s(t.zip)+" "+t._s(t.city))])]),n("div",{staticClass:"to"},[n("div",{staticClass:"to__wrapper"},[n("div",{staticClass:"to__line"},[t._v(t._s(t.donator.name))]),t.donator.address?n("div",{staticClass:"to__line"},[t._v("\n                "+t._s(t.donator.address.street)+" "+t._s(t.donator.address.houseNr)+"\n              ")]):t._e(),t.donator.address?n("div",{staticClass:"to__line"},[t._v("\n                "+t._s(t.donator.address.zip)+" "+t._s(t.donator.address.city)+"\n              ")]):t._e()])])])])],1),t._m(0),n("div",{staticClass:"donator-details"},[n("div",{staticClass:"donator-detail donator-detail--large"},[n("div",{staticClass:"donator-detail__label"},[t._v("Name und Wohnort des Zuwendenden:")]),n("div",{staticClass:"donator-detail__data"},[t._v("\n          "+t._s(t.donator.name)+", "+t._s(t.donator.address&&t.donator.address.city)+"\n        ")])]),n("div",{staticClass:"donator-details__line"},[n("div",{staticClass:"donator-detail donator-detail"},[n("div",{staticClass:"donator-detail__label"},[t._v("Gesamtbetrag der Zuwendung -in Ziffern-")]),n("div",{staticClass:"donator-detail__data"},[t._v("€ - "+t._s(t._f("currency")(t.donator.totalSum,""))+" -")])]),n("div",{staticClass:"donator-detail donator-detail--centered"},[n("div",{staticClass:"donator-detail__label"},[t._v("-in Buchstaben-")]),n("div",{staticClass:"donator-detail__data"},[t._v("- "+t._s(t.inWords)+" -")])])]),n("div",{staticClass:"donator-detail"},[n("div",{staticClass:"donator-detail__label"},[t._v("Zeitraum der Sammelbestätigung")]),n("div",{staticClass:"donator-detail__data"},[t._v(t._s(t.period))])])]),n("div",{staticClass:"text"},[n("p",[t._v("\n        Wir sind wegen "+t._s(t.purposesAsText("wegen"))+" nach dem Freistellungsbescheid des\n        "),n("strong",[t._v("Finanzamtes "+t._s(t.taxName)+", St.Nr. "+t._s(t.taxNr)+", vom "+t._s(t.taxDate)+" für\n        den letzten Veranlagungszeitraum "+t._s(t.taxPeriod))]),t._v(", nach § 5 Abs.\n        1 Nr. 9 des Körperschaftsteuergesetzes von der Körperschaftsteuer und\n        nach § 3 Nr. 6 des Gewerbesteuergesetzes von der Gewerbesteuer\n        befreit.\n      ")]),n("p",[t._v("\n        Es wird bestätigt, dass die Zuwendung nur zur "+t._s(t.purposesAsText("zur"))+"\n        verwendet wird.\n      ")]),n("p",[t._v("\n        Es wird bestätigt, dass über die in der Gesamtsumme enthaltenen\n        Zuwendungen keine weiteren Bestätigungen, weder formelle\n        Zuwendungsbestätigungen noch Beitragsquittungen oder ähnliches\n        ausgestellt wurden und werden.\n      ")]),n("p",[t._v("\n        Ob es sich um einen Verzicht auf Erstattung von Aufwendungen handelt,\n        ist der Anlage zur Sammelbestätigung zu entnehmen.\n      ")]),n("p",[t._v("\n        "+t._s(t.city)+", "+t._s(t.date)+"\n      ")]),n("p",{staticClass:"signature"},[t._v("\n        - KassenführerIn -\n      ")])]),n("print-annotation"),n("print-footer"),t.overlayActive?n("img",{staticClass:"overlay",attrs:{src:t.overlay,alt:""}}):t._e()],1),t._l(t.donationChunks,function(e,a){return n("div",{key:a,staticClass:"page"},[n("print-logo"),n("div",{staticClass:"title-attachment"},[t._v("\n      Anlage zur Sammelbestätigung\n      "),t.hasMultiplePages?n("span",[t._v("\n        ("+t._s(a+1)+"/"+t._s(t.donationChunks.length)+")\n      ")]):t._e()]),n("p",[t._v("vom "+t._s(t.date)+"\n      "),t.donator?[t._v(" für\n        "+t._s(t.donator.name)),t.donator.address?n("span",[t._v(",\n          "+t._s(t.donator.address.street)+" "+t._s(t.donator.address.houseNr)+" in\n          "+t._s(t.donator.address.zip)+" "+t._s(t.donator.address.city)+"\n        ")]):t._e()]:t._e()],2),n("table",{staticClass:"donation-table"},[t._m(1,!0),n("tbody",t._l(e,function(e){return n("tr",{key:e.id},[n("td",{staticClass:"cell--date"},[t._v(t._s(e.date))]),n("td",{staticClass:"cell--type"},[t._v(t._s(e.isMemberschipFee?"Mitgliedsbeitrag":"Geldzuwendung"))]),n("td",{staticClass:"cell--waive"},[t._v(t._s(e.isWaiverOfRefund?"Ja":"Nein"))]),n("td",{staticClass:"cell--sum"},[t._v(t._s(t._f("currency")(e.sum)))])])}),0)]),a+1==t.donationChunks.length?n("div",{staticClass:"total-sum"},[n("div",{staticClass:"total-sum__left"},[t._v("Gesamtsumme:")]),n("div",{staticClass:"total-sum__right"},[t._v("\n        "+t._s(t._f("currency")(t.donator.totalSum))+"\n      ")])]):n("div",{staticClass:"total-sum"},[n("div",{staticClass:"total-sum__left"}),n("div",{staticClass:"total-sum__right"},[t._v("\n        Fortsetzung auf der nächsten Seite\n      ")])]),n("print-footer"),t.overlayActive?n("img",{staticClass:"overlay",attrs:{src:t.overlay,alt:""}}):t._e()],1)})],2)},te=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"intro"},[n("div",{staticClass:"intro__title"},[t._v("\n        Sammelbestätigung über Geldzuwendungen / Mitgliedsbeitrag\n      ")]),n("div",{staticClass:"intro__text"},[t._v("\n        im Sinne des § 10b EStG an eine der in § 5 Abs. 1 Nr. 9 des\n        Körperschaftsteuergesetzes bezeichneten Körperschaften,\n        Personenvereinigungen oder Vermögensmassen\n      ")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",[n("th",{staticClass:"cell--date"},[t._v("Datum")]),n("th",{staticClass:"cell--type"},[t._v("Art der Zuwendung")]),n("th",{staticClass:"cell--waive"},[t._v("Verzicht auf die Erstattung von Aufwendungen")]),n("th",{staticClass:"cell--sum"},[t._v("Betrag")])])])}],ee=n("7657"),ne=n.n(ee),ae=n("1dda"),re=n.n(ae),se=n("fa9d"),ie=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"footer"},[n("img",{staticClass:"footer__img",attrs:{src:t.gaFooter,alt:""}}),n("div",{staticClass:"footer__text"},[t._v("\n    "+t._s(t.name)+", "+t._s(t.street)+" "+t._s(t.houseNr)+", "+t._s(t.zip)+" "+t._s(t.city)+"\n  ")])])},oe=[],ce=n("132e"),de=n.n(ce),ue={name:"PrintFooter",data:function(){return{}},computed:Object(_t["a"])({},jt(v,1,["name","address.street","address.houseNr","address.zip","address.city"],{withModels:["address"]})),created:function(){this.gaFooter=de.a}},le=ue,me=(n("d4d0"),Object(w["a"])(le,ie,oe,!1,null,"accceb4c",null));me.options.__file="PrintFooter.vue";var fe=me.exports,pe=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},he=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"annotation"},[n("p",{staticClass:"annotation__p"},[n("span",{staticClass:"annotation__title"},[t._v("Hinweis:")]),n("br"),t._v("\n    Wer vorsätzlich oder grob fahrlässig eine unrichtige\n    Zuwendungsbestätigung erstellt oder veranlasst, dass Zuwendungen\n    nicht zu den in der Zuwendungsbestätigung ausgegebenen\n    steuerbegünstigten Zwecken verwendet werden, haftet für die\n    entgangene Steuer (§ 10b Abs. 4 EStG, § 9 Abs. 3 KStG, § 9 Nr. 5\n    GewStG).\n  ")]),n("p",{staticClass:"annotation__p"},[t._v("\n    Diese Bestätigung wird nicht als Nachweis für die steuerliche\n    Berücksichtigung der Zuwendung anerkannst, wenn das Datum des\n    Freistellungsbescheides länger als 5 Jahre bzw. das Datum der\n    Feststellung der Einhaltung der satzungsmäßigen Voraussetzungen nach\n    § 60a Abs. 1 AO länger als 3 Jahre seit Ausstellung des Bescheides\n    zurückliegt (§ 63 Abs. 5 AO).\n  ")])])}],ve={name:"PrintAnnotation",data:function(){return{}}},be=ve,ge=(n("38fb"),Object(w["a"])(be,pe,he,!1,null,"7f8aaa19",null));ge.options.__file="PrintAnnotation.vue";var _e=ge.exports,we=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("img",{staticClass:"logo",attrs:{src:t.gaLogo,alt:""}})},ye=[],je={name:"PrintLogo",data:function(){return{}},created:function(){this.gaLogo=ne.a}},ke=je,xe=(n("b930"),Object(w["a"])(ke,we,ye,!1,null,"4751cb88",null));xe.options.__file="PrintLogo.vue";var Ce=xe.exports,Oe=30,ze={name:"DonatorsPrint",title:function(t){return t.titleString},data:function(){return{overlayActive:!1}},props:{id:String},computed:Object(_t["a"])({},jt(v,1,["name","address.street","address.houseNr","address.zip","address.city","purpose","taxName","taxNr","taxDate","taxPeriod"],{withModels:["address","purpose"]}),jt(b,1,["period"]),{donator:function(){return q.query().with("address").with("donations").find(this.id)},donations:function(){return M.a.sortBy(this.donator.donations,[function(t){return Z()(t.date,"DD.MM.YYYY").unix()}])},donationChunks:function(){return M.a.chunk(this.donations,Oe)},inWords:function(){var t=M.a.round(this.donator.totalSum,2),e=M.a.floor(t),n=M.a.round(100*(M.a.floor(t,2)-e)),a=M.a.round(M.a.floor(n,-1)/10),r=M.a.round(n-10*a),s=Object(se["de"])(e),i=Object(se["de"])(M.a.floor(a)),o=Object(se["de"])(M.a.floor(r));return"".concat(s," Komma ").concat(i," ").concat(o)},date:function(){return Z()().format("dddd, Do MMMM YYYY")},titleString:function(){return this.donator.name},hasMultiplePages:function(){return this.donations&&this.donations.length>Oe}}),methods:{purposesAsText:function(t){t=t||"";var e={notLast:", "+t+" ",last:" und "+t+" "},n=M.a.filter(this.purpose,function(t){return t.desc});return n.length?M.a.reduce(n,function(t,n,a,r){if(!t)return n.desc;var s=a<r.length-1;return M.a.join([t,n.desc],s?e.notLast:e.last)},""):"NOCH KEINE VEREINSZWECKE DEFINIERT"}},components:{PrintFooter:fe,PrintAnnotation:_e,PrintLogo:Ce},created:function(){this.gaLogo=ne.a,this.overlay=re.a}},De=ze,Se=(n("5347"),Object(w["a"])(De,Xt,te,!1,null,"987bfd74",null));Se.options.__file="DonatorsPrint.vue";var Ae=Se.exports,Ne=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"donators-print"},[n("div",{staticClass:"page"},[n("div",{staticClass:"header"},[n("print-logo"),n("div",{staticClass:"header-window"},[n("div",{staticClass:"header-window__wrapper"},[n("div",{staticClass:"from"},[n("span",{staticClass:"from__name"},[t._v(t._s(t.name))]),n("span",[t._v(" | ")]),n("span",{staticClass:"from__street"},[t._v(t._s(t.street)+" "+t._s(t.houseNr))]),n("span",[t._v(" | ")]),n("span",{staticClass:"from__city"},[t._v(t._s(t.zip)+" "+t._s(t.city))])]),n("div",{staticClass:"to"},[n("div",{staticClass:"to__wrapper"},[n("div",{staticClass:"to__line"},[t._v(t._s(t.donator.name))]),t.donator.address?n("div",{staticClass:"to__line"},[t._v("\n                "+t._s(t.donator.address.street)+" "+t._s(t.donator.address.houseNr)+"\n              ")]):t._e(),t.donator.address?n("div",{staticClass:"to__line"},[t._v("\n                "+t._s(t.donator.address.zip)+" "+t._s(t.donator.address.city)+"\n              ")]):t._e()])])])])],1),t._m(0),t._m(1),n("print-footer"),t.overlayActive?n("img",{staticClass:"overlay",attrs:{src:t.overlay,alt:""}}):t._e()],1)])},Ee=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"intro"},[n("div",{staticClass:"intro__title"},[t._v("\n        Liebe Freunde, Liebe Unterstützer,\n      ")]),n("p",{staticClass:"intro__text mt1 mb1"},[t._v("\n        einige Zeit ist es her seitdem wir euch über die rechtliche\n        Verpflichtung und Änderung der Datenschutzerklärung (DSGVO) im Rahmen\n        von Generation Alive e.V. informiert haben.\n      ")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"text custom-margin"},[n("p",[t._v("\n        Leider hat nur ein Teil auf diese Information mit einer\n        Einwilligung zum Aufrechthalten der persönlichen Daten in unserer Datenbank\n        reagiert. Dies verpflichtet uns gesetzlich dazu, alle anderen Kontakte von Freunden und Unterstützern aus unserer Datenbank unwiderruflich zu löschen.\n        Als logische Konsequenz hat das jedoch zur Folge, dass wir keinerlei Kontaktaufbau\n        weder auf postalischem noch digitalem Weg durchführen dürfen und jeglicher\n        Informationsfluss von uns zu diesen Personen auf allen Kommunikationsmedien\n        eingestellt werden muss.\n      ")]),n("p",{staticClass:"mt2"},[t._v("\n        Daher möchten wir euch als Spender nochmal ausdrücklich darum bitten, die DSGVO unter folgender Post- oder Email Adresse zu bestätigen:\n      ")]),n("p",[t._v("\n        Generation Alive e.V."),n("br"),t._v("\n        c/o Samuel Castro"),n("br"),t._v("\n        Eisenbahnstraße 23,"),n("br"),t._v("\n        51645 Gummersbach"),n("br"),t._v("\n        E-Mail info@generation-alive.org"),n("br")]),n("p",{staticClass:"mt3"},[t._v("\n        Nur dann können wir euch die Spendenquittung für das letzte Jahr zuschicken.\n        Ansonsten werden wir eure Daten leider löschen müssen.\n      ")]),n("p",[t._v("\n        Digital kann dieser Einwilligung ebenfalls über folgendem Link zugestimmt werden:"),n("br"),n("a",{attrs:{href:"https://generation-alive.org/dsgvo"}},[t._v("https://generation-alive.org/dsgvo")])]),n("p",[t._v("\n        Vielen Dank für euer Verständnis und jede Unterstützung.\n      ")]),n("p",[t._v("\n        Mit freundlichen Grüßen,\n      ")]),n("p",{staticClass:"signature"},[t._v("\n        Samuel Castro\n      ")])])}],$e={name:"DonatorsPrint",title:function(t){return t.titleString},data:function(){return{overlayActive:!1}},props:{id:String},computed:Object(_t["a"])({},jt(v,1,["name","address.street","address.houseNr","address.zip","address.city","purpose","taxName","taxNr","taxDate","taxPeriod"],{withModels:["address","purpose"]}),jt(b,1,["period"]),{donator:function(){return q.query().with("address").with("donations").find(this.id)},donations:function(){return M.a.sortBy(this.donator.donations,[function(t){return Z()(t.date,"DD.MM.YYYY").unix()}])},inWords:function(){var t=M.a.round(this.donator.totalSum,2),e=M.a.floor(t),n=M.a.round(100*(M.a.floor(t,2)-e)),a=M.a.round(M.a.floor(n,-1)/10),r=M.a.round(n-10*a),s=Object(se["de"])(e),i=Object(se["de"])(M.a.floor(a)),o=Object(se["de"])(M.a.floor(r));return"".concat(s," Komma ").concat(i," ").concat(o)},date:function(){return Z()().format("dddd, Do MMMM YYYY")},titleString:function(){return this.donator.name}}),methods:{purposesAsText:function(t){t=t||"";var e={notLast:", "+t+" ",last:" und "+t+" "},n=M.a.filter(this.purpose,function(t){return t.desc});return n.length?M.a.reduce(n,function(t,n,a,r){if(!t)return n.desc;var s=a<r.length-1;return M.a.join([t,n.desc],s?e.notLast:e.last)},""):"NOCH KEINE VEREINSZWECKE DEFINIERT"}},components:{PrintFooter:fe,PrintLogo:Ce},created:function(){this.gaLogo=ne.a,this.overlay=re.a}},Ie=$e,Me=(n("9fde"),Object(w["a"])(Ie,Ne,Ee,!1,null,"ee36f5b4",null));Me.options.__file="DonatorsPrintNoGdpr.vue";var Pe=Me.exports,Be=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("mdc-layout-grid",[n("mdc-layout-cell",{attrs:{span:"12"}},[n("mdc-display",[t._v("Bankkonten")]),n("mdc-button",{staticClass:"button",on:{click:function(e){t.$router.push({name:"donatorsEdit",params:{id:t.id}})}}},[n("i",{staticClass:"material-icons mdc-button__icon"},[t._v("arrow_back")]),t._v("Zurück\n    ")])],1),n("mdc-layout-cell",{attrs:{desktop:"6",tablet:"6",phone:"12"}},[n("div",{staticClass:"tools"},[n("mdc-textfield",{staticClass:"search",attrs:{label:"Suchen (Name / IBAN)",outline:"","trailing-icon":"search"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),n("mdc-list",{attrs:{"two-line":""}},[t._l(t.pagedBankAccounts,function(e){return n("mdc-list-item",{key:e.iban},[n("mdc-icon",{attrs:{slot:"start-detail",icon:"account_balance"},slot:"start-detail"}),n("span",[t._v(t._s(e.name))]),n("span",{attrs:{slot:"secondary"},slot:"secondary"},[t._v(t._s(e.iban))]),n("template",{slot:"end-detail"},[n("mdc-button",{on:{click:function(n){t.addBankAccountToDonator(e)}}},[n("mdc-icon",{staticClass:"mdc-button__icon",staticStyle:{"font-size":"20px","margin-right":"5px"},attrs:{icon:"done"}})],1)],1)],2)}),n("infinite-loading",{attrs:{identifier:t.infiniteId},on:{infinite:t.infiniteHandler}})],2)],1)],1)},Ye=[],Te=(n("386d"),{name:"DonatorsAddBankAccount",data:function(){return{search:this.name,showItems:0,infiniteId:+new Date}},computed:{bankAccounts:function(){return M.a.sortBy(M.a.filter(K.all(),function(t){return!t.donatorId}),["name"])},searchedBankAccounts:function(){if(this.search){var t=this;return M.a.filter(this.bankAccounts,function(e){return M.a.includes(M.a.toUpper(e.name),M.a.toUpper(t.search))||M.a.includes(M.a.toUpper(e.iban),M.a.toUpper(t.search))})}return this.bankAccounts},pagedBankAccounts:function(){var t=M.a.min([this.showItems,this.searchedBankAccounts.length]);return M.a.slice(this.searchedBankAccounts,0,t)}},props:{id:{type:[Number,String],required:!0},name:{type:[Number,String],default:""}},methods:{infiniteHandler:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.showItems+=10,t.next=3,this.$nextTick();case 3:this.showItems<this.searchedBankAccounts.length?e.loaded():e.complete();case 4:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),resetPaging:function(){this.showItems=0,this.infiniteId+=1},addBankAccountToDonator:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,K.update({where:e.iban,data:{donatorId:this.id}});case 2:this.$router.push({name:"donatorsEdit",params:{id:this.id}});case 3:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()},watch:{search:"resetPaging"},components:{InfiniteLoading:Pt.a}}),Ve=Te,Fe=(n("3948"),Object(w["a"])(Ve,Be,Ye,!1,null,"54a20178",null));Fe.options.__file="DonatorsAddBankAccount.vue";var Re=Fe.exports,Ge=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("mdc-layout-grid",[n("mdc-layout-cell",{attrs:{span:"12"}},[n("mdc-display",[t._v("Umsätze")]),n("mdc-title",[t._v(t._s(t.bankAccount.name)+" "),n("mdc-caption",[t._v(t._s(t.bankAccount.iban))])],1),n("mdc-button",{staticClass:"button",on:{click:function(e){t.$router.push({name:"donatorsEdit",params:{id:t.id}})}}},[n("i",{staticClass:"material-icons mdc-button__icon"},[t._v("arrow_back")]),t._v("Zurück\n    ")])],1),n("mdc-layout-cell",{attrs:{desktop:"12",tablet:"12",phone:"12"}},[n("div",{staticClass:"tools"},[n("mdc-textfield",{staticClass:"search",attrs:{label:"Suchen (Verwendungszweck / Kategorie / Summe)",outline:"","trailing-icon":"search"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),n("mdc-list",{attrs:{"two-line":""}},[t._l(t.pagedTransactions,function(e){return n("mdc-list-item",{key:e.id,staticClass:"list-item"},[n("mdc-icon",{attrs:{slot:"start-detail",icon:"money"},slot:"start-detail"}),n("span",[t._v(t._s(e.purpose))]),n("span",{attrs:{slot:"secondary"},slot:"secondary"},[t._v(t._s(e.category))]),n("template",{slot:"end-detail"},[n("span",{staticClass:"additional-info"},[t._v(t._s(t._f("currency")(e.amount)))]),n("span",{staticClass:"additional-info date"},[t._v(t._s(e.date))]),n("mdc-button",{on:{click:function(n){t.takeOverTransaction(e)}}},[n("mdc-icon",{staticClass:"mdc-button__icon",staticStyle:{"font-size":"20px","margin-right":"5px"},attrs:{icon:"done"}})],1),n("mdc-button",{on:{click:function(n){t.deleteTransaction(e)}}},[n("mdc-icon",{staticClass:"mdc-button__icon",staticStyle:{"font-size":"20px","margin-right":"5px"},attrs:{icon:"delete_forever"}})],1)],1)],2)}),n("infinite-loading",{attrs:{identifier:t.infiniteId},on:{infinite:t.infiniteHandler}})],2)],1)],1)},Ze=[],We={name:"DonatorsAddTransactions",data:function(){return{search:"",showItems:10,infiniteId:+new Date}},computed:{bankAccount:function(){return K.query().with("transactions").find(this.iban)},transactions:function(){return this.bankAccount&&this.bankAccount.transactions},searchedTransactions:function(){if(this.search){var t=this;return M.a.filter(this.transactions,function(e){return M.a.includes(M.a.toUpper(e.purpose),M.a.toUpper(t.search))||M.a.includes(M.a.toUpper(e.category),M.a.toUpper(t.search))||M.a.includes(M.a.toUpper(e.amount),M.a.toUpper(t.search))})}return this.transactions},pagedTransactions:function(){var t=M.a.min([this.showItems,this.searchedTransactions.length]);return M.a.slice(this.searchedTransactions,0,t)}},props:{id:{type:[Number,String],required:!0},iban:{type:[Number,String],required:!0}},methods:{infiniteHandler:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.showItems+=10,t.next=3,this.$nextTick();case 3:this.showItems<this.searchedTransactions.length?e.loaded():e.complete();case 4:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),resetPaging:function(){this.showItems=10,this.infiniteId+=1},takeOverTransaction:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e){var n,a,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=M.a.includes(e.category,"02-01 Mitgliederbeiträge"),t.next=3,W.new();case 3:return a=t.sent,r=a.id,t.next=7,W.update({where:r,data:{donatorId:this.id,date:e.date,isMemberschipFee:n,sum:e.amount}});case 7:return t.next=9,L.delete(e.id);case 9:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),deleteTransaction:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,L.delete(e.id);case 2:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()},watch:{searchedTransactions:{deep:!0,handler:"resetPaging"}},components:{InfiniteLoading:Pt.a}},Ue=We,Le=(n("4462"),Object(w["a"])(Ue,Ge,Ze,!1,null,"440e1c2d",null));Le.options.__file="DonatorsAddTransactions.vue";var Ke=Le.exports;a["a"].use(k["a"]);var qe=new k["a"]({mode:"history",base:"/",routes:[{path:"/",name:"internal",component:S,children:[{path:"settings",redirect:{name:"settingsOverview"}},{path:"settings/overview",name:"settingsOverview",component:vt},{path:"settings/general",name:"settingsGeneral",component:Ot},{path:"settings/organization",name:"settingsOrganization",component:Et},{path:"donators",redirect:{name:"donatorsOverview"}},{path:"donators/overview",name:"donatorsOverview",component:Rt},{path:"donators/:id/edit",name:"donatorsEdit",component:Qt,props:!0},{path:"donators/:id/bankaccount",name:"donatorsBankAccount",component:Re,props:function(t){return{id:t.params.id,name:t.query.name}}},{path:"donators/:id/bankaccount/:iban",name:"donatorsTransactions",component:Ke,props:!0},{path:"donators/create",name:"donatorsCreate",component:Qt}]},{path:"/donators/:id/print",name:"donatorsPrint",component:Ae,props:!0},{path:"/donators/:id/print-no-gdpr",name:"donatorsPrintNoGdpr",component:Pe,props:!0},{path:"*",redirect:{name:"internal"}}]}),He=n("2f62"),Je=n("0e44"),Qe={},Xe={},tn={},en={},nn={},an=(n("f751"),function(t){if(M.a.isArray(t)){var e={};return M.a.each(t,function(t){e[t]=null}),e}if(M.a.isObject(t))return t;console.error('"standardValues" should be an Object or an Array, but got',t)}),rn=an,sn=function(t){return"update"+M.a.upperFirst(t)},on=function(t){var e=rn(t);return e},cn=function(t){return t=rn(t),M.a.mapValues(t,function(t,e){return function(t){return t[e]}})},dn=function(t){t=rn(t);var e={};return M.a.each(t,function(t,n){e[sn(n)]=function(t,e){t[n]=e}}),e},un=function(t,e){var n=function(){return M.a.merge(e(),on(t))};return n},ln=function(t,e){return{namespaced:e.namespaced,state:M.a.isFunction(e.state)?un(t,e.state):Object(_t["a"])({},on(t),e.state),getters:Object(_t["a"])({},cn(t),e.getters),mutations:Object(_t["a"])({},dn(t),{reset:function(n){n=Object.assign(n,mn(t,e.state))}},e.mutations),actions:Object(_t["a"])({},e.actions)}},mn=function(t,e){var n=ln(t,{state:e}).state;return M.a.isFunction(n)?n():n},fn=!0,pn={donatorSearch:""},hn=function(){return{}},vn=ln(pn,{namespaced:fn,state:hn}),bn={},gn={};a["a"].use(He["a"]);var _n=new f["b"].Database;_n.register(p,Qe),_n.register(v,Xe),_n.register(h,tn),_n.register(b,en),_n.register(W,nn),_n.register(q,vn),_n.register(K,bn),_n.register(L,gn);var wn=new He["a"].Store({plugins:[f["b"].install(_n),Object(Je["a"])()]}),yn=wn,jn=n("fb51"),kn=n("26ae"),xn=n.n(kn),Cn=n("2274");Z.a.locale("de"),a["a"].use(jn["a"]),a["a"].use(xn.a,{symbol:" €",thousandsSeparator:".",fractionCount:2,fractionSeparator:",",symbolPosition:"back",symbolSpacing:!1}),a["a"].config.productionTip=!1,a["a"].use(Cn["a"],{suffix:" - GA Spendenquittung"}),window.Vue=new a["a"]({router:qe,store:yn,render:function(t){return t(j)}}).$mount("#app")},"57d1":function(t,e,n){},"5ba6":function(t,e,n){},"5c0b":function(t,e,n){"use strict";var a=n("5e27"),r=n.n(a);r.a},"5e27":function(t,e,n){},6180:function(t,e,n){},"75a8":function(t,e,n){},7657:function(t,e,n){t.exports=n.p+"img/ga-logo.4687a773.svg"},"768a":function(t,e,n){"use strict";var a=n("d442"),r=n.n(a);r.a},7723:function(t,e,n){"use strict";var a=n("75a8"),r=n.n(a);r.a},"9cab":function(t,e,n){},"9fde":function(t,e,n){"use strict";var a=n("0299"),r=n.n(a);r.a},b930:function(t,e,n){"use strict";var a=n("4092"),r=n.n(a);r.a},c932:function(t,e,n){},d442:function(t,e,n){},d4d0:function(t,e,n){"use strict";var a=n("6180"),r=n.n(a);r.a},e41f:function(t,e,n){},e7d1:function(t,e,n){"use strict";var a=n("483b"),r=n.n(a);r.a},fa0c:function(t,e,n){t.exports=n.p+"img/account_balance-24px.4cc8edf4.svg"}});
//# sourceMappingURL=app.ae9415ae.js.map